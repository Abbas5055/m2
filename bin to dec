#include <stdio.h>

int binaryToDecimal(const char *binary) {
    int decimal = 0;
    int base = 1; // 2^0

    // Iterate over the binary string from right to left
    for (int i = 0; binary[i] != '\0'; i++) {
        // Update decimal value if the current character is '1'
        if (binary[i] == '1') {
            decimal = decimal * 2 + 1;
        } else if (binary[i] != '0') {
            // Handle invalid characters
            return -1;
        }
        base *= 2;
    }

    return decimal;
}

int main() {
    char binary[65]; // Buffer to hold binary input (up to 64 bits + null terminator)

    printf("Enter a binary number: ");
    scanf("%64s", binary); // Read binary input

    // Validate binary input
    for (int i = 0; binary[i] != '\0'; i++) {
        if (binary[i] != '0' && binary[i] != '1') {
            printf("Invalid binary number.\n");
            return 1;
        }
    }

    int decimal = binaryToDecimal(binary);
    if (decimal == -1) {
        printf("Error: Invalid binary input.\n");
    } else {
        printf("Decimal: %d\n", decimal);
    }

    return 0;
}
